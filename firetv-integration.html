<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="Information about my Home-Assistant setup">

    <link rel="stylesheet" type="text/css" media="screen" href="https://jefflirion.github.io/stylesheets/stylesheet.css">

    <title>Home-Assistant Info</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="home_banner" href="https://jefflirion.github.io/">JeffLIrion.github.io</a>
          <a id="repo_banner" href="https://github.com/JeffLIrion/home-assistant-info">View this repo</a>

          <h1 id="project_title">Home Assistant Info</h1>
          <h2 id="project_tagline">Fire TV integration in Home Assistant</h2>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">

<p>I’ve got 2 Fire TV sticks that I can control via Home Assistant, both of which require authentication for ADB connections.  Here’s how I got them setup and integrated into Home Assistant.</p>
<ol>
<li>
<p>Download <a href="https://developer.android.com/studio/releases/platform-tools.html">platform-tools</a> and connect to the first Fire TV stick from my laptop, following the instructions in this guide: <a href="https://developer.amazon.com/zh/docs/fire-tv/connecting-adb-to-device.html">Connecting to Fire TV Through adb</a>.</p>
<p><strong>Important!</strong>  You must check the box that says “always allow connections from this device.” ADB authentication in Home Assistant will only work using a trusted key.</p>
</li>
<li>
<p>Connect to the second Fire TV device, following the same steps as before.  It should utilize the same ADB key.</p>
</li>
<li>
<p>Copy the <code>adbkey</code> and <code>adbkey.pub</code> files from my computer (in the folder <code>~/.android</code>) to my Home Assistant configuration folder.</p>
</li>
<li>
<p>Copy <a href="https://github.com/JeffLIrion/homeassistant_native_firetv/blob/master/media_player/firetv.py">firetv.py</a> to the <code>custom_components/media_player/</code> folder in my Home Assistant configuration directory.</p>
</li>
<li>
<p>Add the Fire TV sticks to my Home Assistant configuration as follows:</p>
<pre><code class="language-yaml">media_player:
- platform: firetv
  name: Fire TV 1
  host: 192.168.0.111
  adbkey: &quot;/config/android/adbkey&quot;

- platform: firetv
  name: Fire TV 2
  host: 192.168.0.222
  adbkey: &quot;/config/android/adbkey&quot;

# if your Fire TV doesn't require authentication, you would set it up like this
- platform: firetv
  name: Fire TV 3
  host: 192.168.0.123
</code></pre>
</li>
</ol>
<p>That’s it!  No addons to worry about, and no need for automations to restart the addon when it crashes.</p>

</div>


    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Webpage maintained by <a href="https://github.com/JeffLIrion">Jeff Irion</a></p>
        <p>Published with <a href="https://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>



  </body>
</html>
